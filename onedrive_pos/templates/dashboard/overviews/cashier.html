{% block content %}
{% load static %}


 

<!-- Content Row -->
<div class="row">

    <!-- sales Card  -->
    <div class="col-xl-3 col-md-6 mb-5">
        <div class="card border-left-primary shadow h-100 py-2">
            <a href="{% url 'branches:branch_list' %}">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-info text-uppercase mb-1">{{branch.name}} Today | Sales
                        </div>
                        <div class="row no-gutters align-items-center">
                            <div class="col-auto">
                                <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{today_sales_count}}</div>
                            </div>
                        
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-calendar fa-2x text-black-400"></i>
                    </div>
                </div>
            </div>
        </a>
        </div>
    </div>

    <!-- Earnings (Annua) Card  -->
    <div class="col-xl-3 col-md-6 mb-5">
        <div class="card border-left-danger shadow h-100 py-2">
            <a href="{% url 'pos:view_pos_products' %}">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">{{branch.name}}
                                Products</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{products_count}}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-car fa-3x text-black-400"></i>
                        </div>
                    </div>
                </div>
                </a>
        </div>
    </div>


     <!-- sales Card  -->
     <div class="col-xl-3 col-md-6 mb-5">
        <div class="card border-left-success shadow h-100 py-2">
            <a href="{% url 'pos:sale_list' %}">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">{{branch.name}}
                                Total Sales</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{total_sales}}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-dollar-sign fa-3x text-black-400"></i>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </div>


    
    <!-- Revenue Card -->
    <div class="col-xl-3 col-md-6 mb-5">
        <div class="card border-left-info shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Revenue
                        </div>
                        <div class="row no-gutters align-items-center">
                            <div class="col-auto">
                                <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{total_revenue}}</div>
                            </div>
                           
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-dollar-sign fa-2x text-black-400"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>




   
</div>


<!-- Content Row -->
<div class="row">



    <!-- Calender Card -->
    <div class="col-xl-12 col-lg-12">
        <div class="card border-left-danger shadow py-2">
            <div class="card-body">
                <section class="ftco-section table-responsive">
                    <div class="container-fluid">
                       
                        <div class="row">
                            <div class="col-md-12">
                                <div class="elegant-calencar d-md-flex">
                                    <div class="wrap-header d-flex align-items-center">
                                        <p id="reset" class="reset-btn"><i class="fas fa-sync-alt"></i> Reset</p>
                                        <div id="header" class="p-0">
                                            <div class="pre-button d-flex align-items-center justify-content-center"><i class="fas fa-chevron-left"></i></div>
                                            <div class="head-info">
                                                <div class="head-day"></div>
                                                <div class="head-month"></div>
                                            </div>
                                            <div class="next-button d-flex align-items-center justify-content-center"><i class="fas fa-chevron-right"></i></div>
                                        </div>
                                    </div>
                                    <div class="calendar-wrap">
                                        <table id="calendar">
                                            <thead>
                                                <tr>
                                                    <th><i class="fas fa-sun"></i> Sun</th>
                                                    <th><i class="fas fa-moon"></i> Mon</th>
                                                    <th><i class="fas fa-star"></i> Tue</th>
                                                    <th><i class="fas fa-umbrella"></i> Wed</th>
                                                    <th><i class="fas fa-cloud"></i> Thu</th>
                                                    <th><i class="fas fa-bolt"></i> Fri</th>
                                                    <th><i class="fas fa-snowflake"></i> Sat</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

 
</div>



 
<style>

    /* General styles for the calendar card */
.elegant-calencar {
    display: flex;
    flex-direction: column;
    width: 100%;
}

.wrap-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
}

.calendar-wrap {
    overflow-x: auto; /* Allow horizontal scrolling on small screens */
}

#calendar {
    width: 100%;
    border-collapse: collapse;
}

#calendar th, #calendar td {
    padding: 10px;
    text-align: center;
    border: 1px solid #ddd; /* Add border for better visibility */
}

/* Modern card styles */
.card {
    border-radius: 8px; /* Rounded corners */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow */
    transition: transform 0.2s; /* Smooth hover effect */
}

.card:hover {
    transform: translateY(-5px); /* Lift effect on hover */
}

/* Responsive styles */
@media (max-width: 768px) {
    .wrap-header {
        flex-direction: column; /* Stack header elements on smaller screens */
        align-items: flex-start; /* Align items to the start */
    }

    .head-info {
        margin: 10px 0; /* Add margin for spacing */
    }

    #calendar th, #calendar td {
        padding: 5px; /* Reduce padding for smaller screens */
        font-size: 0.8em; /* Adjust font size */
    }

    .profile-picture {
        width: 40px; /* Smaller profile picture */
        height: 40px; /* Maintain aspect ratio */
        border-radius: 50%; /* Circular profile picture */
    }

    .reset-btn {
        font-size: 0.8em; /* Adjust reset button font size */
    }
}

@media (max-width: 576px) {
    #calendar th, #calendar td {
        padding: 3px; /* Further reduce padding for very small screens */
        font-size: 0.7em; /* Further adjust font size */
    }

    .reset-btn {
        font-size: 0.7em; /* Further adjust reset button font size */
    }

    .h3 {
        font-size: 1.2em; /* Adjust heading size */
    }
}
#overview{
    margin-top: 20px;
}
a:hover {
    color: rgb(199, 124, 124);
    
    
  }
  

a{
    color: rgba(109, 108, 108, 0.856);
    
}
.ftco-section {
    width: auto;
}

.elegant-calencar {
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 10px;
    box-shadow: 0 0 10px rgb(196, 69, 90);
    overflow: hidden; /* Prevent overflow */
}

.wrap-header {
    background-color: rgb(196, 69, 90);
    color: #0e0909;
    border-bottom: 1px solid #333 ;
    font-family: cursive;
    font-size: large;
    padding: 10px; /* Add padding for better alignment */
}

.wrap-header .pre-button, .wrap-header .next-button {
    width: 30px;
    height: 30px;
    background-color: rgb(196, 69, 90);
    color: #4ab16c;
    border: none;
    padding: 10px;
    font-size: 16px;
    cursor: pointer;
}

.wrap-header .pre-button:hover, .wrap-header .next-button:hover {
    background-color: rgb(196, 69, 90);
}

.head-info {
    padding: 10px;
    font-size: 18px;
    font-weight: bold;
}

.head-day, .head-month {
    display: inline-block;
    margin-right: 10px;
}

.calendar-wrap {
    padding: 20px;
    display: flex; /* Use Flexbox for alignment */
    justify-content: center; /* Center the calendar */
}

#calendar {
    width: 100%;
    border-collapse: collapse;
}

#calendar thead th {
    background-color: rgb(196, 69, 90);
    color: #fff;
    padding: 10px;
    border: 1px solid #333;
}

#calendar tbody td {
    padding: 10px;
    border: 1px solid #ddd;
    cursor: pointer;
}

#calendar tbody td:hover {
    background-color: #f0f0f0;
}

#calendar tbody td.selected {
    background-color: #bb5c5c;
    color: #fff;
}

.reset-btn {
    background-color: rgb(196, 69, 90);
    color: #fff;
    padding: 10px 20px;
    border: none;
    font-size: 16px;
    cursor: pointer;
    margin-top: 10px;
}

.reset-btn:hover {
    background-color: #444;
}

/* Added styles for Font Awesome icons */
.fas {
    
    margin-right: 5px;
}

.fas.fa-sun, .fas.fa-moon, .fas.fa-star, .fas.fa-umbrella, .fas.fa-cloud, .fas.fa-bolt, .fas.fa-snowflake {
    color: #fff;
}

/* Added animations and effects */
.elegant-calencar {
    transition: all 0.3s ease-in-out;
}

.elegant-calencar:hover {
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
}

.wrap-header {
    transition: all 0.3s ease-in-out;
}

.wrap-header:hover {
    background-color: #444;
}

.pre-button, .next-button {
    transition: all 0.3s ease-in-out;
}

.pre-button:hover, .next-button:hover {
    transform: scale(1.1);
}

.head-info {
    transition: all 0.3s ease-in-out;
}

.head-info:hover {
    transform: scale(1.1);
}

#calendar thead th {
    transition: all 0.3s ease-in-out;
}

#calendar thead th:hover {
    background-color: #444;
}

#calendar tbody td {
    transition: all 0.3s ease-in-out;
}

#calendar tbody td:hover {
    transform: scale(1.1);
}

.reset-btn {
    transition: all 0.3s ease-in-out;
}

.reset-btn:hover {
    transform: scale(1.1);
}
.profile-picture {

    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    margin: 0 auto;
    display: block;
  }
#greeting{
    color:  rgb(96, 129, 206);
    margin-right: 10px;

}
#today{
    color: rgb(96, 129, 206);
    margin-left: 10px;
    margin-right: 10px;
}
#pageheading{
    margin-left: 10%;
    margin-top: 20px;
    margin-right: 10px;
   
}

.nav-item{
    font-size: larger;


}
.card{
    border-radius: 30px;
}




</style>
   
   




</div>


{% block javascripts %}

<script>


    (function($) {

        "use strict";
    
        document.addEventListener('DOMContentLoaded', function(){
        var today = new Date(),
            year = today.getFullYear(),
            month = today.getMonth(),
            monthTag =["January","February","March","April","May","June","July","August","September","October","November","December"],
            day = today.getDate(),
            days = document.getElementsByTagName('td'),
            selectedDay,
            setDate,
            daysLen = days.length;
    // options should like '2014-01-01'
        function Calendar(selector, options) {
            this.options = options;
            this.draw();
        }
        
        Calendar.prototype.draw  = function() {
            this.getCookie('selected_day');
            this.getOptions();
            this.drawDays();
            var that = this,
                reset = document.getElementById('reset'),
                pre = document.getElementsByClassName('pre-button'),
                next = document.getElementsByClassName('next-button');
                
                pre[0].addEventListener('click', function(){that.preMonth(); });
                next[0].addEventListener('click', function(){that.nextMonth(); });
                reset.addEventListener('click', function(){that.reset(); });
            while(daysLen--) {
                days[daysLen].addEventListener('click', function(){that.clickDay(this); });
            }
        };
        
        Calendar.prototype.drawHeader = function(e) {
            var headDay = document.getElementsByClassName('head-day'),
                headMonth = document.getElementsByClassName('head-month');
    
                e?headDay[0].innerHTML = e : headDay[0].innerHTML = day;
                headMonth[0].innerHTML = monthTag[month] +" - " + year;        
         };
        
        Calendar.prototype.drawDays = function() {
            var startDay = new Date(year, month, 1).getDay(),
    //      下面表示这个月总共有几天
                nDays = new Date(year, month + 1, 0).getDate(),
        
                n = startDay;
    //      清除原来的样式和日期
            for(var k = 0; k <42; k++) {
                days[k].innerHTML = '';
                days[k].id = '';
                days[k].className = '';
            }
    
            for(var i  = 1; i <= nDays ; i++) {
                days[n].innerHTML = i; 
                n++;
            }
            
            for(var j = 0; j < 42; j++) {
                if(days[j].innerHTML === ""){
                    
                    days[j].id = "disabled";
                    
                }else if(j === day + startDay - 1){
                    if((this.options && (month === setDate.getMonth()) && (year === setDate.getFullYear())) || (!this.options && (month === today.getMonth())&&(year===today.getFullYear()))){
                        this.drawHeader(day);
                        days[j].id = "today";
                    }
                }
                if(selectedDay){
                    if((j === selectedDay.getDate() + startDay - 1)&&(month === selectedDay.getMonth())&&(year === selectedDay.getFullYear())){
                    days[j].className = "selected";
                    this.drawHeader(selectedDay.getDate());
                    }
                }
            }
        };
        
        Calendar.prototype.clickDay = function(o) {
            var selected = document.getElementsByClassName("selected"),
                len = selected.length;
            if(len !== 0){
                selected[0].className = "";
            }
            o.className = "selected";
            selectedDay = new Date(year, month, o.innerHTML);
            this.drawHeader(o.innerHTML);
            this.setCookie('selected_day', 1);
            
        };
        
        Calendar.prototype.preMonth = function() {
            if(month < 1){ 
                month = 11;
                year = year - 1; 
            }else{
                month = month - 1;
            }
            this.drawHeader(1);
            this.drawDays();
        };
        
        Calendar.prototype.nextMonth = function() {
            if(month >= 11){
                month = 0;
                year =  year + 1; 
            }else{
                month = month + 1;
            }
            this.drawHeader(1);
            this.drawDays();
        };
        
        Calendar.prototype.getOptions = function() {
            if(this.options){
                var sets = this.options.split('-');
                    setDate = new Date(sets[0], sets[1]-1, sets[2]);
                    day = setDate.getDate();
                    year = setDate.getFullYear();
                    month = setDate.getMonth();
            }
        };
        
         Calendar.prototype.reset = function() {
             month = today.getMonth();
             year = today.getFullYear();
             day = today.getDate();
             this.options = undefined;
             this.drawDays();
         };
        
        Calendar.prototype.setCookie = function(name, expiredays){
            if(expiredays) {
                var date = new Date();
                date.setTime(date.getTime() + (expiredays*24*60*60*1000));
                var expires = "; expires=" +date.toGMTString();
            }else{
                var expires = "";
            }
            document.cookie = name + "=" + selectedDay + expires + "; path=/";
        };
        
        Calendar.prototype.getCookie = function(name) {
            if(document.cookie.length){
                var arrCookie  = document.cookie.split(';'),
                    nameEQ = name + "=";
                for(var i = 0, cLen = arrCookie.length; i < cLen; i++) {
                    var c = arrCookie[i];
                    while (c.charAt(0)==' ') {
                        c = c.substring(1,c.length);
                        
                    }
                    if (c.indexOf(nameEQ) === 0) {
                        selectedDay =  new Date(c.substring(nameEQ.length, c.length));
                    }
                }
            }
        };
        var calendar = new Calendar();
        
            
    }, false);
    
    })(jQuery);
    



</script>

{% endblock javascripts %}





{% endblock content%}